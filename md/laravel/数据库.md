 #### 数据库
 ###### 数据库:配置(env),支持常用查询,原生sql语句,事务

  ----
  
 ###### 快速入门:
 * Laravel 能使用原生 SQL、流畅的查询构造器 和 Eloquent ORM
 * Laravel 支持四种数据库:MySQL,PostgreSQL,SQLite,SQL Server
 * 读写分离:有时候你希望 SELECT 语句使用一个数据库连接，而 INSERT，UPDATE，和 DELETE 语句使用另一个数据库连接
 * 使用多个数据库连接


  ###### 运行原生 SQL 查询:select,update,insert,delete,statement;
  * select查询:返回对象数组,对象是StdClass,参数绑定两种形式:对应位置和命名绑定  
  
  ```
  $users = DB::select('select * from users where active = ?', [1]);
  
  $results = DB::select('select * from users where id = :id', ['id' => 1]);
  
  使用结果:
  foreach ($users as $user) {
    echo $user->name;
  }
  ```
  
  
  
  * 运行插入语句:参数绑定同查询:对应和绑定

	```
	DB::insert('insert into users (id, name) values (?, ?)', [1, 'Dayle']);
	```

* 运行更新语句:返回改变的行数

	```
	$affected = DB::update('update users set votes = 100 where name = ?', ['John']);
	```

* 运行删除语句:delete返回受该语句影响的行数：
* 
```
$deleted = DB::delete('delete from users');
```
	 
* 运行普通语句statement:不反悔任何数据 DB::statement('drop table users');
 
	 
##### 监听查询事件:listen
##### 数据库事务:DB facade 的事务方法同样适用于 查询构造器 和 Eloquent ORM.
* 一般用法
```
	DB::transaction(function () {
	DB::table('users')->update(['votes' => 1]);

	DB::table('posts')->delete();
	});
```
 
* 数据库死锁:方法接受一个可选的第二个参数 ，该参数用来表示事务发生死锁时重复执行的次数。一旦定义的次数尝试完毕，就会抛出一个异常：
```
DB::transaction(function () {
    DB::table('users')->update(['votes' => 1]);

    DB::table('posts')->delete();
}, 5);
```

* 手动数据库事务
```
DB::beginTransaction();

DB::rollBack();

DB::commit();

```
 
  ---
  
 查询构造器
 
 ---
 
 分页 
 
 ---
 
 数据库迁移
 
 ---
 
 数据填充 
 
 ---
 
 Redis
 
 ---